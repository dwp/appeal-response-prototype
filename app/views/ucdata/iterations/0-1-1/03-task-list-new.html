
{% extends "dwp-layout.html" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% import "includes/templates/header/macro.html" as header%}

{% block head %}
  {% include "includes/head.html" %}
  <link href="/public/stylesheets/custom.css" media="all" rel="stylesheet" type="text/css" />
{% endblock %}

{% block pageTitle %}
  Tasks to complete – Prepare an appeal response
{% endblock %}

{% block header %}
{{header.header(serviceName,'Jane Doe')}}
{% endblock %}

{% block content %}
<a href="javascript:history.back()" class="govuk-back-link">Back</a>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">
          Tasks to complete
        </h1>
        <ol class="app-task-list">
          <li>
            <h2 class="app-task-list__section">
              <span class="app-task-list__section-number">1. </span> Personal details
            </h2>
            <ul class="app-task-list__items">
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="02-appellant-details" class="govuk-link govuk-link--no-visited-state" aria-describedby="eligibility-status">
                    Appellant details
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--green app-task-list__tag" id="taskAppellantDetails">Completed</strong>
              </li>
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="02-appellant-details" class="govuk-link govuk-link--no-visited-state" aria-describedby="eligibility-status">
                    Appeal details
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--green app-task-list__tag" id="taskAppellantDetails">Completed</strong>
              </li>
            
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="02-appellant-details" class="govuk-link govuk-link--no-visited-state" aria-describedby="eligibility-status">
                    Add representative details
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--green app-task-list__tag" id="taskAppellantDetails">completed</strong>
              </li>
             <!-- <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="representative" class="govuk-link govuk-link--no-visited-state" aria-describedby="read-declaration-status">
                    Add representative details
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--blue app-task-list__tag" id="taskRepDetails">Not started</strong>
              </li> -->
              
            </ul> 
          </li> 



          <li>
            <h2 class="app-task-list__section">
              <span class="app-task-list__section-number">2. </span> The facts
            </h2>
            <ul class="app-task-list__items">
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="decision-1.html" aria-describedby="company-information-status" class="govuk-link govuk-link--no-visited-state" >
                    Decision details
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--green app-task-list__tag" id="taskFOC">completed</strong>
              </li>
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="health-declarations.html" aria-describedby="company-information-status" class="govuk-link govuk-link--no-visited-state" >
                    Record medical evidence 
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--green app-task-list__tag" id="points">completed</strong>
              </li>

             
              
            </ul>

           

          

           <li>
            <h2 class="app-task-list__section">
              <span class="app-task-list__section-number">3. </span> Reasons for the appeal and responses
            </h2>
            <ul class="app-task-list__items">
             
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="./section52V2/activities" aria-describedby="company-information-status" class="govuk-link govuk-link--no-visited-state" >
                    Record activities and evidence 
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--blue app-task-list__tag" id="points">Not started</strong>
              </li>
              
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="./Otherissues/other-reasons-for-appeal" aria-describedby="company-information-status" class="govuk-link govuk-link--no-visited-state" >
                    Respond to other reasons for the appeal
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--blue app-task-list__tag" id="reasons">Not started</strong>
              </li>
              
            </ul>

            </ul> 
            <li>


          <li>
            <h2 class="app-task-list__section">
              <span class="app-task-list__section-number">4. </span> Create response
            </h2>
            <ul class="app-task-list__items">
          
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="case-details.html" aria-describedby="company-information-status" class="govuk-link govuk-link--no-visited-state" >
                    Review response
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--green app-task-list__tag" id="reasons">completed</strong>
              </li>
              <li class="app-task-list__item">
                <span class="app-task-list__task-name">
                  <a href="case-details.html" aria-describedby="company-information-status" class="govuk-link govuk-link--no-visited-state" >
                    Create response
                  </a>
                </span>
                <strong class="govuk-tag govuk-tag--blue app-task-list__tag" id="reasons">not started</strong>
              </li>
            </ul>
          </li>
        </ol>
        <!--
          <div class="govuk-inset-text">
            You can edit the repsonse after it has been created.
          </div>
          <a href="#" class="govuk-button">Create response</a>
        -->
    </div>
    <div class="govuk-grid-column-one-third">
      <h1 class="govuk-heading-l">Events</h1>
<div class="dwp-timeline">
<ol class="dwp-timeline__items">
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">16 June 2024 at 1:00am</p>
  <h2 class="dwp-timeline__heading">Date of claim</h2>
  <p class="dwp-timeline__by-line"><a href="#">View details</a></p>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">1 June 2024 at 7:14am</p>
  <h2 class="dwp-timeline__heading">Summary of report including recommendations, suppliers and costs sent to claimant</h2>
  <p class="dwp-timeline__by-line">by John Goldsmith</p>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">15 May 2024 at 4:01pm</p>
  <h2 class="dwp-timeline__heading">Workplace assessment report</h2>
  <p class="dwp-timeline__by-line">by John Goldsmith</p>
  <a href="#" class="dwp-timeline__link">View details<span class="govuk-visually-hidden"> of the event on 15 May 2024 at 4:01pm</span></a>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">26 April 2024 at 12:42pm</p>
  <h2 class="dwp-timeline__heading">Workplace assessment</h2>
  <p class="dwp-timeline__by-line">by John Goldsmith</p>
  <p class="dwp-timeline__content">Agreed with the claimant that a workplace assessment is required and confirmed assessor visit on 5 May 2024 at 9:45am – confirmation letter sent</p>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">21 April 2024 at 1:12pm</p>
  <h2 class="dwp-timeline__heading">Update to: Health condition or disability</h2>
  <p class="dwp-timeline__by-line">by Jane Doe</p>
  <a href="#" class="dwp-timeline__link">View details<span class="govuk-visually-hidden"> of the event on 21 April 2024 at 1:12pm</span></a>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">21 April 2024 at 10:15am</p>
  <h2 class="dwp-timeline__heading">Telephone call made</h2>
  <p class="dwp-timeline__by-line">by Jane Doe</p>
  <p class="dwp-timeline__content">A telephone call was made to the claimant requesting further information to support the claim</p>
  <a href="#" class="dwp-timeline__link">View details<span class="govuk-visually-hidden"> of the event on 21 April 2024 at 10:15am</span></a>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">19 April 2024 at 10:58am</p>
  <h2 class="dwp-timeline__heading">Text message (SMS) sent</h2>
  <p class="dwp-timeline__by-line">by Jane Doe</p>
  <p class="dwp-timeline__content">SMS was sent to the claimant to inform them that we require further information and will be in contact on 21 April 2024</p>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">16 April 2024 at 9:00am</p>
  <h2 class="dwp-timeline__heading">Health condition or disability </h2>
  <p class="dwp-timeline__by-line">by Jane Doe</p>
  <p class="dwp-timeline__content">Contact needed for more information</p>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">28 March 2024 at 9:12am</p>
  <h2 class="dwp-timeline__heading">Check personal details and add National Insurance number task</h2>
  <p class="dwp-timeline__by-line">by Jane Doe</p>
</li>
<li class="dwp-timeline__item">
  <p class="dwp-timeline__datetime">12 March 2024 at 3:00pm</p>
  <h2 class="dwp-timeline__heading">Application received</h2>
</li>
</ol>
</div>
    </div>
  </div>
{% endblock %}

{% block pageScripts %}
  <script type="text/javascript">
    window.addEventListener('load', (event) => {

      sessionStorage.setItem("draftExists","1");
      sessionStorage.setItem("appellantAddress","72 Guild Street <br>London <br>SE23 6FH");

      if(sessionStorage.getItem("taskProgressAppellantDetails")=="2") {
          document.getElementById("taskAppellantDetails").innerHTML = "Completed";
          document.getElementById("taskAppellantDetails").className = "govuk-tag app-task-list__tag";
        
      }
      
//points
//Flags - 
      if(sessionStorage.getItem("taskProgressPoints")=="2") {
          document.getElementById("points").innerHTML = "Completed"; //'complete - changed the label name'
          document.getElementById("points").className = "govuk-tag app-task-list__tag"; //pulling in GDS style label- check design system
        
      }

      if(sessionStorage.getItem("taskProgressReasons")=="2") {
          document.getElementById("reasons").innerHTML = "Completed"; //'complete - changed the label name'
          document.getElementById("reasons").className = "govuk-tag app-task-list__tag"; //pulling in GDS style label- check design system
        
      }


     // if(sessionStorage.getItem("taskProgressRepDetails")=="2") {
      //    document.getElementById("taskRepDetails").innerHTML = "Completed";
      //    document.getElementById("taskRepDetails").className = "govuk-tag app-task-list__tag"; 
     // }
      if(sessionStorage.getItem("taskProgressFOC")=="2") {
          document.getElementById("taskFOC").innerHTML = "Completed";
          document.getElementById("taskFOC").className = "govuk-tag app-task-list__tag";
      }
      else if(sessionStorage.getItem("taskProgressFOC")=="1") {
          document.getElementById("taskFOC").innerHTML = "In progress";
          document.getElementById("taskFOC").className = "govuk-tag govuk-tag--blue app-task-list__tag";
      }

      if(sessionStorage.getItem("taskProgressRisk")=="2") {
          document.getElementById("taskRisk").innerHTML = "Completed";
          document.getElementById("taskRisk").className = "govuk-tag app-task-list__tag"; 
      }

      

     
      // when adding stuff to task list, add here... :) 

      //if(sessionStorage.getItem("taskProgressPoints")=="2" && sessionStorage.getItem("taskProgressAppellantDetails")=="2" && sessionStorage.getItem("taskProgressRepDetails")=="2" && sessionStorage.getItem("taskProgressFOC")=="2" ) 
      
      if(sessionStorage.getItem("taskProgressReasons")=="2"  ) 
      { 
        document.getElementById("cya-link").style.display="block"; 
        document.getElementById("cya-nolink").style.display="none"; 
        document.getElementById("cya-no-link-status").style.display= "none";
        console.log("everything is complete");
      }
      else {
        document.getElementById("cya-link").style.display="none"; 
        document.getElementById("cya-nolink").style.display="block"; 
        document.getElementById("cya-no-link-status").style.display= "block";
        console.log("NOT everything is complete");
      }
      

    });
  </script>
{% endblock %}
